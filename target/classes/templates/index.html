<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="https://www.thymeleaf.org">
<head>
    <title>Produtos</title>    
    <link href="index.css" rel="stylesheet" type="text/css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous"/>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tangerine"/>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap5.min.js"></script>

</head>
<style>
.lg{
    width: 65px;
    height: 35px;
}
.menu{

    float: left;
}
li{
    list-style-type: none;
    padding:10px;
}
.left{
    float: left;
    width: 45%;
}

.search{
    margin-left: 15%;
    margin-top: 6%;
}

.info{
    margin-top: 10%;
    margin-left: 15%;
}
.card{
    margin: 10px;
    float: left;
}

.ctb{
    height: 100%;
    
}
.clist{width: 50%; float: right;}
.table{
    font-size: medium;
    margin-top: 3%;
    
}
.tb thead th{
    border-bottom: 1px solid rgb(24, 113, 185);
    background-color: rgb(24, 113, 185);
    padding-top: 10px;
    padding-bottom: 10px;
    font-family: 'Courier New', Courier, monospace;
}
.tb tbody{
    letter-spacing: 2px;
}
tr:hover{
    background-color: rgba(172, 172, 172, 0.664);
}

</style>
<body>
  <nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand"><img src="logo.png" class="lg"> Sistema Gerenciamentor</a>
      <div class="d-flex">
        <span th:text="${dataH}"></span>
      </div>
    </div>
  </nav>
    <div class="menu" width="20%">
        <li><a href="/listarVenda" data-bs-toggle="tooltip" data-bs-placement="right" title="Vendas"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-cash-coin" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"/>
          <path d="M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z"/>
          <path d="M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z"/>
          <path d="M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z"/>
        </svg></i></a></li>
        <li><a href="/listarCliente" data-bs-toggle="tooltip" data-bs-placement="right" title="Clientes"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person-lines-fill" viewBox="0 0 16 16">
          <path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z"/>
        </svg></a></li>
        <li><a href="listarProduto" data-bs-toggle="tooltip" data-bs-placement="right" title="Produtos"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-shop" viewBox="0 0 16 16">
          <path d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zM4 15h3v-5H4v5zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3zm3 0h-2v3h2v-3z"/>
        </svg></a></li>
        <li class="fixed-bottom shadow"><a href="/logout" data-bs-toggle="tooltip" data-bs-placement="right" title="LogOut"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
          <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
          <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
        </svg></a></li>
    </div>
    <div class="left">
      <div class="info">
        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
          <button  class="btn btn-outline-primary" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal">Adicionar Venda</button>
        </div><br><br>
        <div class="card shadow" style="width: 30rem;">
            <div class="card-body">
                <h5 class="card-title">Total de Vendas</h5>
                <h6 class="card-subtitle mb-2 text-muted">O total de vendas concluidas.</h6>
                <h5 th:text="${totalVenda}"></h5>
            </div>
        </div>
        <div class="card shadow" style="width: 30rem;">
            <div class="card-body">
                <h5 class="card-title">Total de Produtos</h5>
                <h6 class="card-subtitle mb-2 text-muted">O total de Produtos em estoque é</h6>
                <h5 th:text="${totalProduto}"></h5>
            </div>
        </div>
        <div class="card shadow" style="width: 30rem;">
            <div class="card-body">
                <h5 class="card-title">Total de Clientes</h5>
                <h6 class="card-subtitle mb-2 text-muted">O total de clientes cadastrados em nosso sistema</h6>
                <h5 th:text="${totalClientes}"></h5>
            </div>
        </div>
      </div>
    </div>
    <div>
    <div class="clist">
        <div class="container mt-3">
  <input class="form-control" id="myInput" type="text" placeholder="Search..">
  <br>
  <table class="table table-bordered">
    <thead>
      <tr>
         <th scope="col">Id</th>
            <th scope="col">Nome</th>
            <th scope="col">E-mail</th>
            <th scope="col">CEP</th>
            <th scope="col">Endereço</th>
            <th scope="col">Estado</th>
      </tr>
    </thead>
    <tbody id="myTable">
            <tr data-bs-toggle="modal" data-bs-target="#staticBackdrop" th:each="v : ${listarVenda}">
                <td th:text="${v.idVenda}"></td>
                <td th:text="${v.nome}"></td>
                <td th:text="${v.email}"></td>
                <td th:text="${v.cep}"></td>
                <td th:text="${v.endereco}"></td>
                <td th:text="${v.estado}"></td>
            </tr>
    </tbody>
<script>
    $(document).ready(function(){
      $("#myInput").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $("#myTable tr").filter(function() {
          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
      });
    });
</script>

  </table>
</div>
</div>
    </div>
    
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Nova Venda</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <form action="/salvarCliente" method="POST">
                <div class="col-mb-6">
                  <label for="inputEmail" class="form-label">Produto</label>
                   <select class="form-control" id="comboProdutos" th:field="*{produto}">
                      <option value="">Selecione o Produto Desejado</option>
                      <option th:each="lp : ${listarProduto}" th:value="${lp.idProduto}" th:text="${lp.nome}"></option>
                   </select>
                   <div class="col">
                      <label for="quantidade">Quantidade</label>
                      <input type="number" th:value="1" min="1" id="quantidade" th:field="*{quantidade}" class="form-control">
                   </div>
                </div>
                <div class="modal-footer">
                    <div class="d-grid gap-2">
                        <button class="btn btn-primary" type="submit">Finalizar Venda</button>
                    </div>
                </div>
            </form>  
        </div>     
      </div>
    </div>
  </div>
</body>
</html>
<!--
th:href="@{/excluirProduto/{id}(id=${p.idProduto})}"
th:href="@{/editarProduto/{id}(id=${p.idProduto})}"



-->

